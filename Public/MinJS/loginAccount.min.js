async function login(){var e=document.getElementById("loginInputUser").value,t=document.getElementById("loginInputPass").value;try{var a=await(await fetch("/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})})).json();"success"===a.message?(document.getElementById("error-text-p").innerText="",document.getElementById("loadingSpinner").style.display="flex",navigateDashBoard(a.user)):document.getElementById("error-text-p").innerText=a.message}catch(e){console.log(e)}}async function guestMode(){let e="guest_"+(e=>{let t="";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=a.length;let n=0;for(;n<e;)t+=a.charAt(Math.floor(Math.random()*o)),n+=1;return t})(5);var t=()=>CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(e),"username").toString();"success"===(await(await fetch("/guest",{method:"POST",headers:{Accept:"Application/json","Content-Type":"Application/json"},body:JSON.stringify({username:t()})})).json()).message&&navigateDashBoard(t())}window.onload=async()=>{try{var e,t=await(await fetch("/cookie/getCookie")).json();"success"===t.status&&localStorage.getItem("username")&&(e=CryptoJS.AES.decrypt(localStorage.getItem("username"),"username").toString(CryptoJS.enc.Utf8))&&t.cookieValue===e?navigateDashBoard(localStorage.getItem("username")):(await fetch("/cookie/deleteCookie")).ok&&localStorage.clear()}catch(e){console.log(e)}},document.addEventListener("keypress",function(e){13==e.keyCode&&login()});