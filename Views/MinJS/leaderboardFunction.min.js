async function displayPlayers_trophies(){document.getElementById("searchLoader")&&(document.getElementById("searchLoader").style.display="flex");try{var e=await(await fetch("/leaderboard",{method:"POST",headers:{"Content-Type":"Application/json",Accept:"Application/json"},body:JSON.stringify({guaranteedAccess:!0})})).json();let r=CryptoJS.AES.decrypt(localStorage.getItem("username"),"username").toString(CryptoJS.enc.Utf8);if("success"===e.message&&r){document.getElementById("playerCount").innerText="Total Players: "+e.count,document.getElementById("searchLoader")&&(document.getElementById("searchLoader").style.display="none");var t=e.player;t.forEach(e=>{var t,n,a,d,l,o;t=e.username,n=e.trophy,e=e.rank,a=t===r,d=!0==a?"bg-blue-400":"bg-none",a=!0==a?"text-white":"text-black",l=document.getElementById("leaderboardContainer"),(o=document.createElement("div")).setAttribute("class","grid grid-cols-3 w-full rounded-2xl "+d),l.appendChild(o),(d=document.createElement("p")).setAttribute("class","font-Pixelify font-bold text-center "+a),d.appendChild(document.createTextNode(e)),(l=document.createElement("p")).setAttribute("class","font-Pixelify font-bold text-center "+a),l.appendChild(document.createTextNode(t)),(e=document.createElement("p")).setAttribute("class","font-Pixelify font-bold text-center "+a),e.appendChild(document.createTextNode(n)),o.appendChild(d),o.appendChild(l),o.appendChild(e)})}}catch(e){console.log(e)}}async function search_player_leaderboard(){var t,n,a,d,l,e=document.getElementById("search_leaderboard");if(e.value)try{var o,r=await(await fetch("/leaderboard/searchPlayer",{method:"POST",headers:{"Content-Type":"Application/json",Accept:"Application/json"},body:JSON.stringify({username:e.value})})).json();if("success"===r.message){let e=(o=document.getElementById("leaderboardContainer")).lastElementChild;for(;e;)o.removeChild(e),e=o.lastElementChild;document.getElementById("searchLoader")&&(document.getElementById("searchLoader").style.display="none");t=r.username,n=r.trophy,a=r.rank,(d=document.createElement("div")).setAttribute("class","grid grid-cols-3 w-full rounded-2xl"),o.appendChild(d),(l=document.createElement("p")).setAttribute("class","font-Pixelify font-bold text-center text-black"),l.appendChild(document.createTextNode(a)),(a=document.createElement("p")).setAttribute("class","font-Pixelify font-bold text-center text-black"),a.appendChild(document.createTextNode(t)),(t=document.createElement("p")).setAttribute("class","font-Pixelify font-bold text-center text-black"),t.appendChild(document.createTextNode(n)),d.appendChild(l),d.appendChild(a),d.appendChild(t)}else{let e=(o=document.getElementById("leaderboardContainer")).lastElementChild;for(;e;)o.removeChild(e),e=o.lastElementChild;var c=document.createElement("p");c.setAttribute("class","font-Pixelify font-bold text-center text-black"),c.appendChild(document.createTextNode(r.message)),o.appendChild(c)}}catch(e){console.log(e)}else{let e=(o=document.getElementById("leaderboardContainer")).lastElementChild;for(;e;)o.removeChild(e),e=o.lastElementChild;displayPlayers_trophies()}}